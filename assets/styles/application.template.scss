// loading bootstrap
// TODO: Refactor to use bootstrap sass variable for theming.
@import 'bootstrap/scss/bootstrap.scss';

// The Mulish font, we use font-weight 300 - 700
@import '@fontsource/mulish/300';
@import '@fontsource/mulish/index'; // 400
@import '@fontsource/mulish/500';
@import '@fontsource/mulish/600';
@import '@fontsource/mulish/700';

// layouts
@import './layouts/main';

// navigators
@import './navigators/navbar';

// features and services, only imported if enabled.
{{ range $feature, $featureDef := site.Params.features }}
  {{ with $featureDef }}
    {{ $featureEnabled := or (not (isset . "enable")) .enable }}
    {{ if $featureEnabled }}
      {{ with (index site.Data.toha.styles $feature) }}
        {{ range .styles }}
        @import '{{.}}';
        {{ end }}
      {{ end }}

      {{ range $service, $config := .services }}
        {{ with (index site.Data.toha.styles $feature) }}
          {{ with .services }}
            {{ with (index . $service) }}
              {{ range .styles }}
              @import '{{ . }}';
              {{ end }}
            {{ end }}
          {{ end }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}